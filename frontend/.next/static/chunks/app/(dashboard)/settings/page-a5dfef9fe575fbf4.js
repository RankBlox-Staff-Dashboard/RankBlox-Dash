(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{2883:function(e,t,s){Promise.resolve().then(s.bind(s,8604))},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1671:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9388:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},3245:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},1817:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8604:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(7437),l=s(2265),n=s(8728),i=s(1723),r=s(1817),c=s(1671),d=s(9388),o=s(1047),x=s(3245),m=s(2489),u=s(6560),h=s(4967),f=s(757),p=s(8223);function b(){let[e,t]=(0,l.useState)(!1),[s,b]=(0,l.useState)({has_active_loa:!1,loa:null}),[w,j]=(0,l.useState)([]),[g,y]=(0,l.useState)(!0),[N,v]=(0,l.useState)(!1),[k,Z]=(0,l.useState)(null),[S,L]=(0,l.useState)(""),[A,q]=(0,l.useState)(""),[D,_]=(0,l.useState)("");(0,l.useEffect)(()=>{O()},[]);let O=async()=>{try{y(!0);let[e,t]=await Promise.all([p.Yd.getStatus(),p.Yd.getRequests()]);b(e.data),j(t.data)}catch(e){console.error("Error fetching LOA data:",e)}finally{y(!1)}},C=async()=>{if(!S||!A||!D.trim()){Z("Please fill in all fields");return}try{v(!0),Z(null),await p.Yd.create(S,A,D),t(!1),L(""),q(""),_(""),await O()}catch(t){var e,s;Z((null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.error)||"Failed to submit LOA request")}finally{v(!1)}},R=async e=>{try{await p.Yd.cancel(e),await O()}catch(e){console.error("Error cancelling LOA:",e)}},M=e=>{switch(e){case"pending":return(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-500/30 text-yellow-300",children:"Pending"});case"approved":return(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-green-500/30 text-green-300",children:"Approved"});case"denied":return(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-500/30 text-red-300",children:"Denied"});default:return null}},I=new Date().toISOString().split("T")[0];return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(u.P,{}),(0,a.jsx)(h.k,{}),(0,a.jsxs)(f.Z,{className:"p-5 animate-fadeInUp",style:{animationDelay:"0.1s"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:(0,a.jsx)(n.Z,{className:"w-4 h-4 text-yellow-400"})}),(0,a.jsx)("span",{className:"text-sm font-semibold text-yellow-400 uppercase tracking-wide",children:"Staff Management"})]}),(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Leave of Absence Request"}),(0,a.jsx)("p",{className:"text-sm text-white/60 mb-4",children:"Submit a request for time off from your staff duties"}),(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 text-white/60"}),(0,a.jsx)("span",{className:"text-sm font-medium text-white",children:"Current LOA Status"})]}),g?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-white/50",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4 animate-spin"}),(0,a.jsx)("span",{className:"text-sm",children:"Loading..."})]}):s.has_active_loa&&s.loa?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["approved"===s.loa.status?(0,a.jsx)(c.Z,{className:"w-4 h-4 text-green-400"}):"pending"===s.loa.status?(0,a.jsx)(i.Z,{className:"w-4 h-4 text-yellow-400"}):(0,a.jsx)(d.Z,{className:"w-4 h-4 text-red-400"}),(0,a.jsx)("span",{className:"text-sm text-white",children:"approved"===s.loa.status?"Currently on LOA":"pending"===s.loa.status?"LOA Request Pending":"LOA Denied"}),M(s.loa.status)]}),(0,a.jsxs)("p",{className:"text-xs text-white/50",children:[new Date(s.loa.start_date).toLocaleDateString()," - ",new Date(s.loa.end_date).toLocaleDateString()]}),"pending"===s.loa.status&&(0,a.jsx)("button",{onClick:()=>R(s.loa.id),className:"text-xs text-red-400 hover:text-red-300 transition",children:"Cancel Request"})]}):(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-green-500/10",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 text-green-400"}),(0,a.jsx)("span",{className:"text-sm text-green-300",children:"Not currently on LOA"})]})]}),(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4 p-4 rounded-xl bg-white/5 transition-all hover:bg-white/10",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-9 h-9 rounded-lg bg-yellow-500/20 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(o.Z,{className:"w-4 h-4 text-yellow-300"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-white",children:"Request Leave of Absence"}),(0,a.jsx)("p",{className:"text-xs text-white/50 mt-0.5",children:"Request time off from staff duties"})]})]}),(0,a.jsx)("button",{onClick:()=>t(!0),disabled:s.has_active_loa,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-300 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Request LOA"})]})]}),w.length>0&&(0,a.jsxs)(f.Z,{className:"p-5 animate-fadeInUp",style:{animationDelay:"0.2s"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-white/70"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-white",children:"LOA History"}),(0,a.jsx)("p",{className:"text-xs text-white/50",children:"Your past leave of absence requests"})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:w.map(e=>(0,a.jsx)("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white/5",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-white",children:[new Date(e.start_date).toLocaleDateString()," - ",new Date(e.end_date).toLocaleDateString()]}),M(e.status)]}),(0,a.jsx)("p",{className:"text-xs text-white/50 mt-1 line-clamp-1",children:e.reason})]})},e.id))})]}),(0,a.jsxs)(f.Z,{className:"p-5 animate-fadeInUp",style:{animationDelay:"0.3s"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 text-blue-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-white",children:"Staff Guidelines"}),(0,a.jsx)("p",{className:"text-xs text-white/50",children:"Important information for staff members"})]})]}),(0,a.jsx)("div",{className:"p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-300 mb-2",children:"Staff Guidelines"}),(0,a.jsx)("p",{className:"text-xs text-white/60 leading-relaxed",children:"Remember to complete your weekly message quota of 150 messages in the tracked channels. If you need time off, submit an LOA request through the settings page. Failure to meet quota without an approved LOA may result in infractions."})]})]})})]}),e&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fadeIn",children:(0,a.jsxs)("div",{className:"w-full max-w-md bg-zinc-900 rounded-2xl border border-white/10 p-6 animate-scaleIn",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white",children:"Request Leave of Absence"}),(0,a.jsx)("button",{onClick:()=>t(!1),className:"p-2 rounded-lg hover:bg-white/10 transition",children:(0,a.jsx)(m.Z,{className:"w-5 h-5 text-white/60"})})]}),k&&(0,a.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-red-500/20 border border-red-500/30",children:(0,a.jsx)("p",{className:"text-sm text-red-300",children:k})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:S,onChange:e=>L(e.target.value),min:I,className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white focus:outline-none focus:border-blue-500/50 transition"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:A,onChange:e=>q(e.target.value),min:S||I,className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white focus:outline-none focus:border-blue-500/50 transition"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Reason"}),(0,a.jsx)("textarea",{value:D,onChange:e=>_(e.target.value),rows:3,placeholder:"Please provide a reason for your leave...",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-white/30 focus:outline-none focus:border-blue-500/50 transition resize-none"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,a.jsx)("button",{onClick:()=>t(!1),className:"flex-1 px-4 py-3 rounded-xl bg-white/5 text-white font-medium hover:bg-white/10 transition",children:"Cancel"}),(0,a.jsx)("button",{onClick:C,disabled:N,className:"flex-1 px-4 py-3 rounded-xl bg-yellow-500/20 text-yellow-300 font-medium hover:bg-yellow-500/30 transition disabled:opacity-50 flex items-center justify-center gap-2",children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{className:"w-4 h-4 animate-spin"}),"Submitting..."]}):"Submit Request"})]})]})]})})]})}}},function(e){e.O(0,[464,304,621,971,117,744],function(){return e(e.s=2883)}),_N_E=e.O()}]);