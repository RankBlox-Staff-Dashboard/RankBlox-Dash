(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{4788:function(e,t,a){Promise.resolve().then(a.bind(a,5045))},1047:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1671:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9388:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1817:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2431:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8906:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},5805:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},5045:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var s=a(7437),n=a(2265),i=a(3145),r=a(1245),l=a(8223),c=a(757),o=a(8906),d=a(5805),u=a(9205);let h=(0,u.Z)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var x=a(1047),m=a(6865),p=a(2431);let b=(0,u.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),f=(0,u.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var g=a(1817),w=a(1671),y=a(9388);function v(){let{user:e}=(0,r.a)(),{users:t,channels:a,loading:u,error:v,refresh:j}=function(){let[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)([]),[i,r]=(0,n.useState)(!0),[c,o]=(0,n.useState)(null),d=async()=>{try{r(!0),o(null);let[e,a]=await Promise.all([l.bM.getUsers(),l.bM.getTrackedChannels()]);t(e.data),s(a.data)}catch(t){var e,a;o((null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.error)||"Failed to load management data")}finally{r(!1)}};return(0,n.useEffect)(()=>{d()},[]),{users:e,channels:a,loading:i,error:c,refresh:d}}(),N=!!((null==e?void 0:e.rank)&&e.rank>=16&&e.rank<=255),[k,_]=(0,n.useState)("users"),[C,Z]=(0,n.useState)(""),[S,I]=(0,n.useState)(""),[M,A]=(0,n.useState)(null),[L,q]=(0,n.useState)([]),[D,E]=(0,n.useState)(!1),[T,U]=(0,n.useState)([]),[P,z]=(0,n.useState)(!1),[O,R]=(0,n.useState)(!1),[V,B]=(0,n.useState)(null),[H,W]=(0,n.useState)(""),[Y,F]=(0,n.useState)("warning"),X=(0,n.useMemo)(()=>t.filter(e=>null!==e.rank),[t]);(0,n.useEffect)(()=>{"loa"===k?$():"infractions"===k&&G()},[k]);let $=async()=>{try{E(!0);let e=await l.bM.getLOARequests();q(e.data)}catch(e){console.error("Error fetching LOA requests:",e)}finally{E(!1)}},G=async()=>{try{z(!0);let e=await l.bM.getAllInfractions();U(e.data)}catch(e){console.error("Error fetching infractions:",e)}finally{z(!1)}};if(!N)return(0,s.jsx)("div",{className:"p-4 animate-fadeIn",children:(0,s.jsxs)(c.Z,{className:"p-8 text-center",children:[(0,s.jsx)(o.Z,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Access Denied"}),(0,s.jsx)("p",{className:"text-white/60",children:"You do not have permission to view this page."})]})});let J=async(e,t)=>{A("status:".concat(e.id));try{await l.bM.updateUserStatus(e.id,t),await j()}finally{A(null)}},K=async()=>{A("addChannel");try{await l.bM.addTrackedChannel(C.trim(),S.trim()),Z(""),I(""),await j()}finally{A(null)}},Q=async e=>{A("rmChannel:".concat(e));try{await l.bM.removeTrackedChannel(e),await j()}finally{A(null)}},ee=async(e,t)=>{A("loa:".concat(e));try{await l.bM.reviewLOA(e,t),await $()}finally{A(null)}},et=async()=>{if(V&&H.trim()){A("issueInfraction");try{await l.bM.issueInfraction(V,H,Y),R(!1),B(null),W(""),F("warning"),await G()}finally{A(null)}}},ea=async e=>{A("void:".concat(e));try{await l.bM.voidInfraction(e),await G()}finally{A(null)}},es=e=>{switch(e){case"pending":return(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-500/30 text-yellow-300",children:"Pending"});case"approved":return(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-green-500/30 text-green-300",children:"Approved"});case"denied":return(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-500/30 text-red-300",children:"Denied"});default:return null}},en=[{key:"users",label:"Staff Users",icon:d.Z},{key:"channels",label:"Tracked Channels",icon:h},{key:"loa",label:"LOA Requests",icon:x.Z},{key:"infractions",label:"Infractions",icon:m.Z}];return(0,s.jsxs)("div",{className:"space-y-4 animate-fadeIn",children:[(0,s.jsx)(c.Z,{className:"p-5",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center",children:(0,s.jsx)(o.Z,{className:"w-5 h-5 text-red-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white",children:"Management Panel"}),(0,s.jsx)("p",{className:"text-xs text-white/50",children:"Administrator controls for Atlanta High"})]})]}),(0,s.jsx)("button",{onClick:()=>{j(),"loa"===k&&$(),"infractions"===k&&G()},className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition",children:(0,s.jsx)(p.Z,{className:"w-5 h-5 text-white/70"})})]})}),(0,s.jsx)(c.Z,{className:"p-4",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:en.map(e=>{let t=e.icon;return(0,s.jsxs)("button",{onClick:()=>_(e.key),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(k===e.key?"bg-white text-black shadow-lg scale-105":"text-white/60 hover:bg-white/10 hover:text-white"),children:[(0,s.jsx)(t,{className:"w-4 h-4"}),e.label]},e.key)})})}),u&&(0,s.jsx)("div",{className:"text-center text-white/50 py-8",children:"Loading..."}),v&&(0,s.jsx)("div",{className:"text-center text-red-400 py-8",children:v}),"users"===k&&(0,s.jsxs)(c.Z,{className:"p-5 animate-fadeIn",children:[(0,s.jsxs)("h3",{className:"text-base font-semibold text-white mb-4 flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"w-5 h-5 text-white/70"}),"Staff Users (",X.length,")"]}),(0,s.jsx)("div",{className:"space-y-3",children:X.map(e=>{let t=e.roblox_id?"https://www.roblox.com/headshot-thumbnail/image?userId=".concat(e.roblox_id,"&width=150&height=150&format=png"):"https://cdn.discordapp.com/embed/avatars/0.png";return(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 hover:bg-white/10 transition",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,s.jsx)(i.default,{src:t,alt:e.roblox_username||e.discord_username,width:40,height:40,className:"w-10 h-10 rounded-full",unoptimized:!0}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-white font-medium",children:e.roblox_username||e.discord_username}),(0,s.jsxs)("div",{className:"text-xs text-white/50",children:[e.rank_name||"Rank ".concat(e.rank)," â€¢ ID: ",e.id]})]}),(0,s.jsx)("button",{onClick:()=>{B(e.id),R(!0)},className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-red-500/20 text-red-300 hover:bg-red-500/30 transition",children:"Issue Infraction"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["active","inactive","pending_verification"].map(t=>(0,s.jsx)("button",{onClick:()=>J(e,t),disabled:null!==M,className:"px-3 py-1 rounded-lg text-xs font-medium transition ".concat(e.status===t?"bg-blue-500/30 text-blue-300 border border-blue-500/50":"bg-white/5 text-white/60 hover:bg-white/10 border border-white/10"," disabled:opacity-50"),children:t.replace("_"," ")},t))})]},e.id)})})]}),"channels"===k&&(0,s.jsxs)(c.Z,{className:"p-5 animate-fadeIn",children:[(0,s.jsxs)("h3",{className:"text-base font-semibold text-white mb-4 flex items-center gap-2",children:[(0,s.jsx)(h,{className:"w-5 h-5 text-white/70"}),"Tracked Channels (",a.length,")"]}),(0,s.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,s.jsx)("input",{value:C,onChange:e=>Z(e.target.value),placeholder:"Channel ID",className:"flex-1 px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm placeholder-white/30 focus:outline-none focus:border-blue-500/50"}),(0,s.jsx)("input",{value:S,onChange:e=>I(e.target.value),placeholder:"Channel Name",className:"flex-1 px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm placeholder-white/30 focus:outline-none focus:border-blue-500/50"}),(0,s.jsxs)("button",{onClick:K,disabled:!C.trim()||!S.trim()||null!==M,className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium disabled:opacity-50 transition flex items-center gap-2",children:[(0,s.jsx)(b,{className:"w-4 h-4"}),"Add"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[0===a.length&&(0,s.jsx)("div",{className:"text-white/50 text-sm text-center py-4",children:"No tracked channels"}),a.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white/5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white font-medium text-sm",children:e.channel_name}),(0,s.jsx)("div",{className:"text-xs text-white/40",children:e.discord_channel_id})]}),(0,s.jsx)("button",{onClick:()=>Q(e.id),disabled:null!==M,className:"p-2 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-300 disabled:opacity-50 transition",children:(0,s.jsx)(f,{className:"w-4 h-4"})})]},e.id))]})]}),"loa"===k&&(0,s.jsxs)(c.Z,{className:"p-5 animate-fadeIn",children:[(0,s.jsxs)("h3",{className:"text-base font-semibold text-white mb-4 flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5 text-white/70"}),"LOA Requests"]}),D?(0,s.jsxs)("div",{className:"text-center py-8 text-white/50",children:[(0,s.jsx)(g.Z,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading..."]}):0===L.length?(0,s.jsx)("div",{className:"text-center py-8 text-white/50",children:"No LOA requests"}):(0,s.jsx)("div",{className:"space-y-3",children:L.map(e=>(0,s.jsxs)("div",{className:"p-4 rounded-xl bg-white/5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-white font-medium",children:e.user_roblox_username||e.user_discord_username}),es(e.status)]}),(0,s.jsx)("span",{className:"text-xs text-white/40",children:new Date(e.created_at).toLocaleDateString()})]}),(0,s.jsxs)("p",{className:"text-sm text-white/60 mb-2",children:[new Date(e.start_date).toLocaleDateString()," - ",new Date(e.end_date).toLocaleDateString()]}),(0,s.jsx)("p",{className:"text-xs text-white/50 mb-3",children:e.reason}),"pending"===e.status&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>ee(e.id,"approved"),disabled:null!==M,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-green-500/20 text-green-300 hover:bg-green-500/30 transition text-sm disabled:opacity-50",children:[(0,s.jsx)(w.Z,{className:"w-4 h-4"}),"Approve"]}),(0,s.jsxs)("button",{onClick:()=>ee(e.id,"denied"),disabled:null!==M,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-red-500/20 text-red-300 hover:bg-red-500/30 transition text-sm disabled:opacity-50",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4"}),"Deny"]})]})]},e.id))})]}),"infractions"===k&&(0,s.jsxs)(c.Z,{className:"p-5 animate-fadeIn",children:[(0,s.jsxs)("h3",{className:"text-base font-semibold text-white mb-4 flex items-center gap-2",children:[(0,s.jsx)(m.Z,{className:"w-5 h-5 text-yellow-400"}),"All Infractions"]}),P?(0,s.jsxs)("div",{className:"text-center py-8 text-white/50",children:[(0,s.jsx)(g.Z,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading..."]}):0===T.length?(0,s.jsx)("div",{className:"text-center py-8 text-white/50",children:"No infractions"}):(0,s.jsx)("div",{className:"space-y-3",children:T.map(e=>(0,s.jsxs)("div",{className:"p-4 rounded-xl ".concat(e.voided?"bg-white/5 opacity-60":"strike"===e.type?"bg-red-500/10 border border-red-500/20":"bg-yellow-500/10 border border-yellow-500/20"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-white font-medium",children:e.user_roblox_username||e.user_discord_username}),(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full ".concat(e.voided?"bg-white/10 text-white/50":"strike"===e.type?"bg-red-500/30 text-red-300":"bg-yellow-500/30 text-yellow-300"),children:e.voided?"Voided":e.type})]}),(0,s.jsx)("span",{className:"text-xs text-white/40",children:new Date(e.created_at).toLocaleDateString()})]}),(0,s.jsx)("p",{className:"text-sm text-white/60 mb-1",children:e.reason}),(0,s.jsxs)("p",{className:"text-xs text-white/40 mb-2",children:["By ",e.issued_by_username||"System"]}),!e.voided&&(0,s.jsx)("button",{onClick:()=>ea(e.id),disabled:null!==M,className:"px-3 py-1.5 rounded-lg bg-white/10 text-white/70 hover:bg-white/20 transition text-xs disabled:opacity-50",children:"Void Infraction"})]},e.id))})]}),O&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fadeIn",children:(0,s.jsxs)("div",{className:"w-full max-w-md bg-zinc-900 rounded-2xl border border-white/10 p-6 animate-scaleIn",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Issue Infraction"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"User"}),(0,s.jsxs)("select",{value:V||"",onChange:e=>B(Number(e.target.value)),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white focus:outline-none focus:border-blue-500/50",children:[(0,s.jsx)("option",{value:"",children:"Select a user"}),X.map(e=>(0,s.jsx)("option",{value:e.id,children:e.roblox_username||e.discord_username},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Type"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>F("warning"),className:"flex-1 px-4 py-2 rounded-xl transition ".concat("warning"===Y?"bg-yellow-500/30 text-yellow-300 border border-yellow-500/50":"bg-white/5 text-white/60 border border-white/10"),children:"Warning"}),(0,s.jsx)("button",{onClick:()=>F("strike"),className:"flex-1 px-4 py-2 rounded-xl transition ".concat("strike"===Y?"bg-red-500/30 text-red-300 border border-red-500/50":"bg-white/5 text-white/60 border border-white/10"),children:"Strike"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Reason"}),(0,s.jsx)("textarea",{value:H,onChange:e=>W(e.target.value),rows:3,placeholder:"Enter the reason for this infraction...",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-white/30 focus:outline-none focus:border-blue-500/50 resize-none"})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,s.jsx)("button",{onClick:()=>{R(!1),B(null),W("")},className:"flex-1 px-4 py-3 rounded-xl bg-white/5 text-white font-medium hover:bg-white/10 transition",children:"Cancel"}),(0,s.jsx)("button",{onClick:et,disabled:!V||!H.trim()||null!==M,className:"flex-1 px-4 py-3 rounded-xl bg-red-500/20 text-red-300 font-medium hover:bg-red-500/30 transition disabled:opacity-50",children:"Issue Infraction"})]})]})]})})]})}},757:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(7437),n=a(4457);function i(e){let{className:t,children:a,style:i}=e;return(0,s.jsx)("div",{className:(0,n.cn)("rounded-[26px] border border-white/10 bg-gradient-to-b from-white/[0.06] to-white/[0.02] shadow-[0_0_0_1px_rgba(255,255,255,0.04),0_24px_70px_rgba(0,0,0,0.78)]",t),style:i,children:a})}},1245:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return l},a:function(){return c}});var s=a(7437),n=a(2265),i=a(8223);let r=(0,n.createContext)(void 0);function l(e){var t;let{children:a}=e,[l,c]=(0,n.useState)(null),[o,d]=(0,n.useState)(!0),[u,h]=(0,n.useState)(null),x=(0,n.useCallback)(()=>{localStorage.removeItem("token"),c(null),h(null)},[]),m=(0,n.useCallback)(e=>{localStorage.setItem("token",e)},[]),p=(0,n.useCallback)(async()=>{try{if(!localStorage.getItem("token"))return c(null),h(null),d(!1),null;let e=(await i.kv.getMe()).data;return c(e),e.verification?h(e.verification):h({discord:!!e.discord_id,roblox:!!e.roblox_id,active:"active"===e.status,rank:null!==e.rank,complete:"active"===e.status&&null!==e.roblox_id&&null!==e.rank,next_step:e.roblox_id?"active"!==e.status?"activation":null:"roblox"}),e}catch(a){var e,t;return console.error("Error fetching user:",a),((null===(e=a.response)||void 0===e?void 0:e.status)===401||(null===(t=a.response)||void 0===t?void 0:t.status)===403)&&x(),null}finally{d(!1)}},[x]);(0,n.useEffect)(()=>{p()},[p]);let b=null!==(t=null==u?void 0:u.complete)&&void 0!==t&&t;return(0,s.jsx)(r.Provider,{value:{user:l,loading:o,verification:u,isFullyVerified:b,refreshUser:p,updateToken:m,logout:x},children:a})}function c(){let e=(0,n.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4457:function(e,t,a){"use strict";function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}a.d(t,{cn:function(){return s}})},8223:function(e,t,a){"use strict";a.d(t,{Mh:function(){return o},Yd:function(){return u},au:function(){return h},bM:function(){return x},bR:function(){return i},kv:function(){return c},vD:function(){return d}});var s=a(3464);let n=a(257).env.NEXT_PUBLIC_API_URL||"https://staffapp-9q1t.onrender.com/api";function i(){return n.replace(/\/$/,"")}let r=s.Z.create({baseURL:n,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e});let l=!1;r.interceptors.response.use(e=>e,e=>{var t;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!l){let e=window.location.pathname;"/login"===e||e.startsWith("/auth/")||"/"===e||(l=!0,localStorage.removeItem("token"),window.location.replace("/login"),setTimeout(()=>{l=!1},2e3))}return Promise.reject(e)});let c={getMe:()=>r.get("/auth/me"),logout:()=>r.post("/auth/logout")},o={requestCode:()=>r.post("/verification/roblox/request"),verify:(e,t)=>r.post("/verification/roblox/verify",{roblox_username:e,emoji_code:t}),getStatus:()=>r.get("/verification/roblox/status")},d={getStats:()=>r.get("/dashboard/stats"),getInfractions:()=>r.get("/dashboard/infractions"),getAnalytics:()=>r.get("/dashboard/analytics")},u={getStatus:()=>r.get("/dashboard/loa/status"),getRequests:()=>r.get("/dashboard/loa"),create:(e,t,a)=>r.post("/dashboard/loa",{start_date:e,end_date:t,reason:a}),cancel:e=>r.delete("/dashboard/loa/".concat(e))},h={list:e=>r.get("/tickets",{params:{status:e}}),claim:e=>r.post("/tickets/".concat(e,"/claim")),resolve:e=>r.post("/tickets/".concat(e,"/resolve"))},x={getUsers:()=>r.get("/management/users"),updateUserPermission:(e,t,a)=>r.put("/management/users/".concat(e,"/permissions"),{permission:t,granted:a}),updateUserStatus:(e,t)=>r.put("/management/users/".concat(e,"/status"),{status:t}),getTrackedChannels:()=>r.get("/management/tracked-channels"),addTrackedChannel:(e,t)=>r.post("/management/tracked-channels",{discord_channel_id:e,channel_name:t}),removeTrackedChannel:e=>r.delete("/management/tracked-channels/".concat(e)),getLOARequests:e=>r.get("/management/loa",{params:{status:e}}),reviewLOA:(e,t,a)=>r.put("/management/loa/".concat(e,"/review"),{status:t,review_notes:a}),getAllInfractions:()=>r.get("/management/infractions"),issueInfraction:(e,t,a)=>r.post("/management/infractions",{user_id:e,reason:t,type:a}),voidInfraction:e=>r.put("/management/infractions/".concat(e,"/void")),getUserInfractions:e=>r.get("/management/users/".concat(e,"/infractions"))}}},function(e){e.O(0,[464,370,971,117,744],function(){return e(e.s=4788)}),_N_E=e.O()}]);