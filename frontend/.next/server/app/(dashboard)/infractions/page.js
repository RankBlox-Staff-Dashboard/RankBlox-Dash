(()=>{var e={};e.id=303,e.ids=[303],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},341:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),s(6198),s(6989),s(5866),s(6694);var a=s(3191),i=s(8716),r=s(7922),n=s.n(r),l=s(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let c=["",{children:["(dashboard)",{children:["infractions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6198)),"/workspace/frontend/src/app/(dashboard)/infractions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6989)),"/workspace/frontend/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6694)),"/workspace/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/workspace/frontend/src/app/(dashboard)/infractions/page.tsx"],x="/(dashboard)/infractions/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(dashboard)/infractions/page",pathname:"/infractions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8949:(e,t,s)=>{Promise.resolve().then(s.bind(s,6194))},361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9669:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},8019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},617:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},6194:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(326),i=s(949),r=s(361),n=s(9669),l=s(8019),d=s(9725),c=s(9371),o=s(5329),x=s(7577),m=s(1471);function h(){let{infractions:e,loading:t,error:s}=function(){let[e,t]=(0,x.useState)([]),[s,a]=(0,x.useState)(!0),[i,r]=(0,x.useState)(null);return{infractions:e,loading:s,error:i,refresh:async()=>{try{a(!0),r(null);let e=await m.vD.getInfractions();t(e.data)}catch(e){r(e.response?.data?.error||"Failed to fetch infractions")}finally{a(!1)}}}}(),h=e.filter(e=>!e.voided),u=e.filter(e=>e.voided);return(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(d.P,{}),a.jsx(c.k,{}),(0,a.jsxs)(o.Z,{className:"p-5 animate-fadeInUp",style:{animationDelay:"0.1s"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(i.Z,{className:"w-5 h-5 text-yellow-400"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-white",children:"Your Infractions"}),a.jsx("p",{className:"text-xs text-white/50",children:"View your current and past infractions"})]})]}),t&&(0,a.jsxs)("div",{className:"text-center py-8 text-white/50",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white/60 rounded-full animate-spin mx-auto mb-2"}),"Loading infractions..."]}),s&&a.jsx("div",{className:"text-center py-8 text-red-400",children:s}),!t&&!s&&0===e.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(r.Z,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),a.jsx("p",{className:"text-white font-medium",children:"No infractions found"}),a.jsx("p",{className:"text-white/50 text-sm",children:"Keep up the good work!"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[h.map((e,t)=>{let s=new Date(e.created_at).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});return(0,a.jsxs)("div",{className:`flex items-start gap-3 p-4 rounded-xl transition-all hover:scale-[1.01] animate-slideUp ${"strike"===e.type?"bg-red-500/10 border border-red-500/20":"bg-yellow-500/10 border border-yellow-500/20"}`,style:{animationDelay:`${.05*t}s`},children:[a.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center flex-shrink-0 ${"strike"===e.type?"bg-red-500/20":"bg-yellow-500/20"}`,children:a.jsx(n.Z,{className:`w-5 h-5 ${"strike"===e.type?"text-red-300":"text-yellow-300"}`})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-white",children:"strike"===e.type?"Strike Notice":"Activity Notice"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${"strike"===e.type?"bg-red-500/30 text-red-300":"bg-yellow-500/30 text-yellow-300"}`,children:"strike"===e.type?"Strike":"Warning"}),a.jsx("span",{className:"text-xs text-white/40",children:s})]})]}),a.jsx("p",{className:"text-xs text-white/60",children:e.reason}),(0,a.jsxs)("p",{className:"text-xs text-white/40 mt-1",children:["By ",e.issued_by_username||"Activity System"]})]})]},e.id)}),u.length>0&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"pt-4 pb-2",children:a.jsx("p",{className:"text-xs text-white/40 uppercase tracking-wide",children:"Voided Infractions"})}),u.map((e,t)=>{let s=new Date(e.created_at).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});return(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-white/5 opacity-60 animate-slideUp",style:{animationDelay:`${.05*t}s`},children:[a.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center flex-shrink-0 bg-white/10",children:a.jsx(n.Z,{className:"w-5 h-5 text-white/50"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-white/70",children:"strike"===e.type?"Strike Notice":"Activity Notice"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-white/10 text-white/50",children:"Voided"}),a.jsx("span",{className:"text-xs text-white/40",children:s})]})]}),a.jsx("p",{className:"text-xs text-white/40",children:e.reason})]})]},e.id)})]})]})]}),(0,a.jsxs)(o.Z,{className:"p-5 animate-fadeInUp",style:{animationDelay:"0.2s"},children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(l.Z,{className:"w-5 h-5 text-blue-400"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-white",children:"Infraction Information"}),a.jsx("p",{className:"text-xs text-white/50",children:"Understanding the infraction system"})]})]}),a.jsx("div",{className:"p-4 rounded-xl bg-blue-500/10 border border-blue-500/20",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(l.Z,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-blue-300 mb-2",children:"About Infractions"}),a.jsx("p",{className:"text-xs text-white/60 leading-relaxed",children:"Infractions are issued for violations of staff policies. Warnings are minor infractions, while strikes are more serious. Multiple strikes may result in demotion or removal from staff. Voided infractions have been removed from your record and no longer count against you."})]})]})})]})]})}},9371:(e,t,s)=>{"use strict";s.d(t,{k:()=>p});var a=s(326),i=s(7577),r=s(5047),n=s(4319),l=s(8307),d=s(949),c=s(165),o=s(8378),x=s(5329),m=s(2882),h=s(5900);let u=[{key:"overview",label:"Overview",icon:n.Z,path:"/overview"},{key:"lookup",label:"Lookup",icon:l.Z,path:"/tickets"},{key:"infractions",label:"Infractions",icon:d.Z,path:"/infractions"},{key:"management",label:"Management",icon:c.Z,path:"/management",requiresAdmin:!0},{key:"settings",label:"Settings",icon:o.Z,path:"/settings"}];function p(){let e=(0,r.useRouter)(),t=(0,r.usePathname)(),{permissions:s,loading:n}=(0,h.T)(),l=(0,i.useMemo)(()=>s.includes("MANAGE_USERS")||s.includes("MANAGE_PERMISSIONS"),[s]),d=(0,i.useMemo)(()=>u.filter(e=>!e.requiresAdmin||l),[l]);return a.jsx(x.Z,{className:"p-4 animate-fadeIn",style:{animationDelay:"0.1s"},children:a.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((s,i)=>{let r=s.path===t,n=s.icon;return(0,a.jsxs)("button",{type:"button",onClick:()=>e.push(s.path),className:(0,m.cn)("flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-all duration-200 animate-slideUp",r?"bg-white text-black shadow-lg scale-105":"text-white/60 hover:bg-white/10 hover:text-white hover:scale-105"),style:{animationDelay:`${.05*i}s`},children:[a.jsx(n,{className:"h-4 w-4",strokeWidth:2}),a.jsx("span",{children:s.label})]},s.key)})})})}},9725:(e,t,s)=>{"use strict";s.d(t,{P:()=>h});var a=s(326),i=s(6226),r=s(617),n=s(949);let l=(0,s(2881).Z)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var d=s(4061),c=s(4690),o=s(7714),x=s(4971),m=s(5329);function h(){let{user:e}=(0,c.a)(),{stats:t}=(0,o.V)(),{avatarUrl:s,loading:h}=(0,x.k)(e?.roblox_id??null);if(!e)return null;let u=(0,x.g)(e.discord_id,e.discord_avatar),p=e.roblox_id&&s?s:u,f=e.roblox_username||e.discord_username;return(0,a.jsxs)(m.Z,{className:"p-5 animate-fadeIn",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-5",children:[(0,a.jsxs)("div",{className:"relative animate-scaleIn",children:[a.jsx(i.default,{src:p,alt:f,width:56,height:56,className:"w-14 h-14 rounded-full ring-2 ring-white/20 transition-transform hover:scale-105",unoptimized:!0}),a.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-black animate-pulse"})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-white truncate",children:["Welcome, Staff ",f]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${e?.rank?e.rank>=24&&e.rank<=255?"bg-red-600":e.rank>=8?"bg-purple-600":"bg-green-600":"bg-green-600"} text-white transition-all hover:scale-105`,children:e.rank_name||"Staff"}),a.jsx("span",{className:"text-white/40",children:"â€¢"}),a.jsx("span",{className:`text-sm font-medium ${"active"===e.status?"text-green-400":"text-yellow-400"}`,children:"active"===e.status?"Active":e.status||"Active"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-white/5 transition-all hover:bg-white/10 hover:scale-[1.02] animate-slideUp",style:{animationDelay:"0.1s"},children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-blue-500/20 ring-1 ring-blue-400/30",children:a.jsx(r.Z,{className:"w-5 h-5 text-blue-300"})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-white/50 font-medium",children:"Messages"}),(0,a.jsxs)("div",{className:"text-base font-bold text-white",children:[t?.messages_sent??0,"/",t?.messages_quota??150]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-white/5 transition-all hover:bg-white/10 hover:scale-[1.02] animate-slideUp",style:{animationDelay:"0.15s"},children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-yellow-500/20 ring-1 ring-yellow-400/30",children:a.jsx(n.Z,{className:"w-5 h-5 text-yellow-300"})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-white/50 font-medium",children:"Infractions"}),a.jsx("div",{className:"text-base font-bold text-white",children:t?.infractions??0})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-white/5 transition-all hover:bg-white/10 hover:scale-[1.02] animate-slideUp",style:{animationDelay:"0.2s"},children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-emerald-500/20 ring-1 ring-emerald-400/30",children:a.jsx(l,{className:"w-5 h-5 text-emerald-300"})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-white/50 font-medium",children:"Claimed"}),a.jsx("div",{className:"text-base font-bold text-white",children:t?.tickets_claimed??0})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-white/5 transition-all hover:bg-white/10 hover:scale-[1.02] animate-slideUp",style:{animationDelay:"0.25s"},children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-purple-500/20 ring-1 ring-purple-400/30",children:a.jsx(d.Z,{className:"w-5 h-5 text-purple-300"})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-white/50 font-medium",children:"Closed"}),a.jsx("div",{className:"text-base font-bold text-white",children:t?.tickets_resolved??0})]})]})]})]})}},7714:(e,t,s)=>{"use strict";s.d(t,{V:()=>r});var a=s(7577),i=s(1471);function r(){let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(null);return{stats:e,loading:s,error:n,refresh:async()=>{try{r(!0),l(null);let e=await i.vD.getStats();t(e.data)}catch(e){l(e.response?.data?.error||"Failed to fetch stats")}finally{r(!1)}}}}},6198:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/workspace/frontend/src/app/(dashboard)/infractions/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[306,262,351],()=>s(341));module.exports=a})();