exports.id=846,exports.ids=[846],exports.modules={3021:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},2001:(e,t,s)=>{Promise.resolve().then(s.bind(s,4690))},4149:(e,t,s)=>{Promise.resolve().then(s.bind(s,784))},784:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(326),n=s(7577),r=s(5047),i=s(4690),l=s(434),c=s(4319),o=s(8307),d=s(949),h=s(7069),u=s(6671),x=s(8378),m=s(4019),p=s(748),g=s(1471);let b=[{name:"Overview",path:"/overview",icon:c.Z},{name:"Lookup",path:"/tickets",icon:o.Z},{name:"Infractions",path:"/infractions",icon:d.Z},{name:"Analytics",path:"/analytics",icon:h.Z},{name:"Payouts",path:"/payouts",icon:u.Z},{name:"Settings",path:"/settings",icon:x.Z}];function f(){let[e,t]=(0,n.useState)(!1),s=(0,r.usePathname)(),{user:c}=(0,i.a)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"sticky top-0 z-50 flex items-center justify-between px-4 py-3 bg-black/80 backdrop-blur-md border-b border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-lg hover:bg-white/10 transition",children:e?a.jsx(m.Z,{className:"w-5 h-5 text-white"}):a.jsx(p.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:"\uD83D\uDD17"}),a.jsx("span",{className:"text-lg font-bold text-white",children:"Panora Staff"})]})]}),a.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${c?.rank?c.rank>=16&&c.rank<=255?"bg-red-600":c.rank>=8?"bg-purple-600":"bg-green-600":"bg-blue-600"} text-white`,children:c?.rank_name?c.rank_name:"Staff"})]}),e&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black/90 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"pt-20 px-4",children:[a.jsx("nav",{className:"space-y-2",children:b.map(e=>{let n=s===e.path,r=e.icon;return(0,a.jsxs)(l.default,{href:e.path,onClick:()=>t(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition ${n?"bg-white text-black":"text-white/70 hover:bg-white/10 hover:text-white"}`,children:[a.jsx(r,{className:"w-5 h-5",strokeWidth:2}),a.jsx("span",{className:"font-medium",children:e.name})]},e.path)})}),a.jsx("div",{className:"mt-8 pt-4 border-t border-white/10",children:(0,a.jsxs)("button",{onClick:async()=>{try{await g.kv.logout()}catch{}finally{localStorage.removeItem("token"),window.location.href="/login"}},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-400 hover:bg-red-500/10 transition",children:[a.jsx("span",{children:"\uD83D\uDEAA"}),a.jsx("span",{className:"font-medium",children:"Logout"})]})})]})})]})}function v({children:e}){(0,r.useRouter)();let{user:t,loading:s,verification:l,isFullyVerified:c,refreshUser:o}=(0,i.a)(),[d,h]=(0,n.useState)(!0);return s||d?a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsx("div",{className:"animate-pulse text-white/60 text-lg",children:"Loading..."})}):t&&c?(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[a.jsx(f,{}),a.jsx("main",{className:"px-4 py-4 pb-8 max-w-lg mx-auto",children:e}),a.jsx("footer",{className:"py-6 text-center text-white/40 text-sm",children:"\xa9 2025 Panora Connect LLC. All rights reserved."})]}):null}},9371:(e,t,s)=>{"use strict";s.d(t,{k:()=>m});var a=s(326),n=s(5047),r=s(4319),i=s(8307),l=s(949),c=s(7069),o=s(6671),d=s(8378),h=s(5329),u=s(2882);let x=[{key:"overview",label:"Overview",icon:r.Z,path:"/overview"},{key:"lookup",label:"Lookup",icon:i.Z,path:"/tickets"},{key:"infractions",label:"Infractions",icon:l.Z,path:"/infractions"},{key:"analytics",label:"Analytics",icon:c.Z,path:"/analytics"},{key:"payouts",label:"Payouts",icon:o.Z,path:"/payouts"},{key:"settings",label:"Settings",icon:d.Z,path:"/settings"}];function m(){let e=(0,n.useRouter)(),t=(0,n.usePathname)();return a.jsx(h.Z,{className:"p-4",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(s=>{let n=s.path===t,r=s.icon;return(0,a.jsxs)("button",{type:"button",onClick:()=>e.push(s.path),className:(0,u.cn)("flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition",n?"bg-white text-black shadow-lg":"text-white/60 hover:bg-white/10 hover:text-white"),children:[a.jsx(r,{className:"h-4 w-4",strokeWidth:2}),a.jsx("span",{children:s.label})]},s.key)})})})}},7664:(e,t,s)=>{"use strict";s.d(t,{P:()=>u});var a=s(326),n=s(6226),r=s(617),i=s(949),l=s(210),c=s(4061),o=s(4690),d=s(7714),h=s(5329);function u(){let{user:e}=(0,o.a)(),{stats:t}=(0,d.V)();if(!e)return null;let s=e.discord_avatar?`https://cdn.discordapp.com/avatars/${e.discord_id}/${e.discord_avatar}.png?size=128`:`https://cdn.discordapp.com/embed/avatars/${parseInt(e.discord_id.slice(-1))%5}.png`;return(0,a.jsxs)(h.Z,{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-5",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(n.default,{src:s,alt:e.discord_username,width:56,height:56,className:"w-14 h-14 rounded-full ring-2 ring-white/20",unoptimized:!0}),a.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-black"})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-white truncate",children:["Welcome, Staff ",e.discord_username]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${e?.rank?e.rank>=16&&e.rank<=255?"bg-red-600":e.rank>=8?"bg-purple-600":"bg-green-600":"bg-green-600"} text-white`,children:e.rank_name||"Staff"}),a.jsx("span",{className:"text-white/40",children:"â€¢"}),a.jsx("span",{className:`text-sm font-medium ${"active"===e.status?"text-green-400":"text-yellow-400"}`,children:"active"===e.status?"Active":e.status||"Active"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-white/5",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-blue-500/20 ring-1 ring-blue-400/30",children:a.jsx(r.Z,{className:"w-5 h-5 text-blue-300"})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-white/50 font-medium",children:"Messages"}),(0,a.jsxs)("div",{className:"text-base font-bold text-white",children:[t?.messages_sent??0,"/",t?.messages_quota??150]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-white/5",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-yellow-500/20 ring-1 ring-yellow-400/30",children:a.jsx(i.Z,{className:"w-5 h-5 text-yellow-300"})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-white/50 font-medium",children:"Infractions"}),a.jsx("div",{className:"text-base font-bold text-white",children:t?.infractions??0})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-white/5",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-emerald-500/20 ring-1 ring-emerald-400/30",children:a.jsx(l.Z,{className:"w-5 h-5 text-emerald-300"})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-white/50 font-medium",children:"Claimed"}),a.jsx("div",{className:"text-base font-bold text-white",children:t?.tickets_claimed??0})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-2xl bg-white/5",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-purple-500/20 ring-1 ring-purple-400/30",children:a.jsx(c.Z,{className:"w-5 h-5 text-purple-300"})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-xs text-white/50 font-medium",children:"Closed"}),a.jsx("div",{className:"text-base font-bold text-white",children:t?.tickets_resolved??0})]})]})]})]})}},5329:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(326),n=s(2882);function r({className:e,children:t}){return a.jsx("div",{className:(0,n.cn)("rounded-[26px] border border-white/10 bg-gradient-to-b from-white/[0.06] to-white/[0.02] shadow-[0_0_0_1px_rgba(255,255,255,0.04),0_24px_70px_rgba(0,0,0,0.78)]",e),children:t})}},4690:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>i,a:()=>l});var a=s(326),n=s(7577);s(1471);let r=(0,n.createContext)(void 0);function i({children:e}){let[t,s]=(0,n.useState)(null),[i,l]=(0,n.useState)(!0),[c,o]=(0,n.useState)(null),d=(0,n.useCallback)(()=>{s(null),o(null)},[]),h=(0,n.useCallback)(e=>{},[]),u=(0,n.useCallback)(async()=>{try{return null}catch(e){return console.error("Error fetching user:",e),(e.response?.status===401||e.response?.status===403)&&d(),null}finally{l(!1)}},[d]),x=c?.complete??!1;return a.jsx(r.Provider,{value:{user:t,loading:i,verification:c,isFullyVerified:x,refreshUser:u,updateToken:h,logout:d},children:e})}function l(){let e=(0,n.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7714:(e,t,s)=>{"use strict";s.d(t,{V:()=>r});var a=s(7577),n=s(1471);function r(){let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null);return{stats:e,loading:s,error:i,refresh:async()=>{try{r(!0),l(null);let e=await n.vD.getStats();t(e.data)}catch(e){l(e.response?.data?.error||"Failed to fetch stats")}finally{r(!1)}}}}},2882:(e,t,s)=>{"use strict";function a(...e){return e.filter(Boolean).join(" ")}s.d(t,{cn:()=>a})},1471:(e,t,s)=>{"use strict";s.d(t,{Mh:()=>c,au:()=>d,bM:()=>h,bR:()=>r,kv:()=>l,vD:()=>o});var a=s(4464);let n=process.env.NEXT_PUBLIC_API_URL||"https://staffapp-9q1t.onrender.com/api";function r(){return n.replace(/\/$/,"")}let i=a.Z.create({baseURL:n,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>e),i.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));let l={getMe:()=>i.get("/auth/me"),logout:()=>i.post("/auth/logout")},c={requestCode:()=>i.post("/verification/roblox/request"),verify:(e,t)=>i.post("/verification/roblox/verify",{roblox_username:e,emoji_code:t}),getStatus:()=>i.get("/verification/roblox/status")},o={getStats:()=>i.get("/dashboard/stats"),getInfractions:()=>i.get("/dashboard/infractions"),getAnalytics:()=>i.get("/dashboard/analytics")},d={list:e=>i.get("/tickets",{params:{status:e}}),claim:e=>i.post(`/tickets/${e}/claim`),resolve:e=>i.post(`/tickets/${e}/resolve`)},h={getUsers:()=>i.get("/management/users"),updateUserPermission:(e,t,s)=>i.put(`/management/users/${e}/permissions`,{permission:t,granted:s}),updateUserStatus:(e,t)=>i.put(`/management/users/${e}/status`,{status:t}),getTrackedChannels:()=>i.get("/management/tracked-channels"),addTrackedChannel:(e,t)=>i.post("/management/tracked-channels",{discord_channel_id:e,channel_name:t}),removeTrackedChannel:e=>i.delete(`/management/tracked-channels/${e}`)}},6989:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/workspace/frontend/src/app/(dashboard)/layout.tsx#default`)},6694:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>c});var a=s(9510),n=s(5317),r=s.n(n);s(5023);var i=s(8570);let l=(0,i.createProxy)(String.raw`/workspace/frontend/src/context/AuthContext.tsx#AuthProvider`);(0,i.createProxy)(String.raw`/workspace/frontend/src/context/AuthContext.tsx#useAuth`);let c={title:"Panora Connect Employees",description:"Authorized employees only â€” manage internal operations."};function o({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:r().className,children:a.jsx(l,{children:e})})})}},5023:()=>{}};