exports.id=351,exports.ids=[351],exports.modules={3021:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},2001:(e,t,s)=>{Promise.resolve().then(s.bind(s,4690))},4149:(e,t,s)=>{Promise.resolve().then(s.bind(s,784))},784:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(326),r=s(7577),n=s(5047),i=s(4690),l=s(434),o=s(4319),c=s(8307),d=s(949),u=s(8378),h=s(4019),m=s(748),x=s(165),p=s(9635),g=s(6728),f=s(6283),b=s(1810),v=s(1471),w=s(6378);function j(){let[e,t]=(0,r.useState)(!1);(0,n.usePathname)();let{user:s}=(0,i.a)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"sticky top-0 z-50 flex items-center justify-between px-4 py-3 bg-black/80 backdrop-blur-md border-b border-white/10 animate-slideDown",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-lg hover:bg-white/10 transition-all duration-200 hover:scale-105 active:scale-95",children:e?a.jsx(h.Z,{className:"w-5 h-5 text-white"}):a.jsx(m.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.Z,{className:"w-5 h-5 text-blue-400"}),a.jsx("span",{className:"text-lg font-bold text-white",children:"Atlanta High"})]})]}),a.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${s?.rank?s.rank>=24&&s.rank<=255?"bg-red-600":s.rank>=8?"bg-purple-600":"bg-green-600":"bg-blue-600"} text-white transition-all hover:scale-105`,children:s?.rank_name?s.rank_name:"Staff"})]}),e&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black/95 backdrop-blur-sm animate-fadeIn",children:(0,a.jsxs)("div",{className:"pt-4 px-4",children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsx("button",{onClick:()=>t(!1),className:"p-2 rounded-lg hover:bg-white/10 transition",children:a.jsx(h.Z,{className:"w-6 h-6 text-white"})})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-6 px-2",children:[a.jsx(x.Z,{className:"w-6 h-6 text-blue-400"}),a.jsx("span",{className:"text-xl font-bold text-white",children:"Staff Dashboard"})]}),s&&a.jsx("div",{className:"p-4 rounded-2xl bg-white/5 border border-white/10 mb-6 animate-slideUp",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(w.f,{robloxId:s.roblox_id,discordId:s.discord_id,discordAvatar:s.discord_avatar,alt:s.roblox_username||s.discord_username,size:48,className:"w-12 h-12 ring-2 ring-white/20"}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-semibold",children:s.roblox_username||s.discord_username}),a.jsx("div",{className:"text-white/50 text-sm",children:s.rank_name||"Staff"})]})]})}),(0,a.jsxs)("nav",{className:"space-y-2",children:[(0,a.jsxs)(l.default,{href:"/settings",onClick:()=>t(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all animate-slideUp",style:{animationDelay:"0.05s"},children:[a.jsx(p.Z,{className:"w-5 h-5",strokeWidth:2}),a.jsx("span",{className:"font-medium",children:"Account"})]}),(0,a.jsxs)("a",{href:"https://discord.gg/firealarm",target:"_blank",rel:"noopener noreferrer",onClick:()=>t(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all animate-slideUp",style:{animationDelay:"0.1s"},children:[a.jsx(g.Z,{className:"w-5 h-5",strokeWidth:2}),a.jsx("span",{className:"font-medium",children:"Support"})]}),(0,a.jsxs)("a",{href:"https://docs.ahscampus.com",target:"_blank",rel:"noopener noreferrer",onClick:()=>t(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all animate-slideUp",style:{animationDelay:"0.15s"},children:[a.jsx(f.Z,{className:"w-5 h-5",strokeWidth:2}),a.jsx("span",{className:"font-medium",children:"Documentation"})]})]}),a.jsx("div",{className:"absolute bottom-8 left-4 right-4",children:(0,a.jsxs)("button",{onClick:async()=>{try{await v.kv.logout()}catch{}finally{localStorage.removeItem("token"),window.location.href="/login"}},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-400 hover:bg-red-500/10 transition-all animate-slideUp",children:[a.jsx(b.Z,{className:"w-5 h-5",strokeWidth:2}),a.jsx("span",{className:"font-medium",children:"Logout"})]})})]})})]})}function N({children:e}){(0,n.useRouter)();let{user:t,loading:s,verification:l,isFullyVerified:o,refreshUser:c}=(0,i.a)(),[d,u]=(0,r.useState)(!0);return s||d?a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsx("div",{className:"animate-pulse text-white/60 text-lg",children:"Loading..."})}):t&&o?(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[a.jsx(j,{}),a.jsx("main",{className:"px-4 py-4 pb-8 max-w-lg mx-auto page-transition",children:e}),a.jsx("footer",{className:"py-6 text-center text-white/40 text-sm animate-fadeIn",children:"\xa9 2025 Atlanta High. All rights reserved."})]}):null}o.Z,c.Z,d.Z,u.Z},6378:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var a=s(326),r=s(6226),n=s(9635),i=s(4971);function l({robloxId:e,discordId:t,discordAvatar:s,alt:l,size:o=40,className:c=""}){let{avatarUrl:d,loading:u,error:h}=(0,i.k)(e),m=(0,i.g)(t,s),x=e&&d?d:m;return u&&e?a.jsx("div",{className:`rounded-full bg-white/10 flex items-center justify-center ${c}`,style:{width:o,height:o},children:a.jsx(n.Z,{className:"w-1/2 h-1/2 text-white/40"})}):a.jsx(r.default,{src:x,alt:l,width:o,height:o,className:`rounded-full ${c}`,unoptimized:!0})}},5329:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=s(326),r=s(2882);function n({className:e,children:t,style:s}){return a.jsx("div",{className:(0,r.cn)("rounded-[26px] border border-white/10 bg-gradient-to-b from-white/[0.06] to-white/[0.02] shadow-[0_0_0_1px_rgba(255,255,255,0.04),0_24px_70px_rgba(0,0,0,0.78)]",e),style:s,children:t})}},4690:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>i,a:()=>l});var a=s(326),r=s(7577);s(1471);let n=(0,r.createContext)(void 0);function i({children:e}){let[t,s]=(0,r.useState)(null),[i,l]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null),d=(0,r.useCallback)(()=>{s(null),c(null)},[]),u=(0,r.useCallback)(e=>{},[]),h=(0,r.useCallback)(async()=>{try{return null}catch(e){return console.error("Error fetching user:",e),(e.response?.status===401||e.response?.status===403)&&d(),null}finally{l(!1)}},[d]),m=o?.complete??!1;return a.jsx(n.Provider,{value:{user:t,loading:i,verification:o,isFullyVerified:m,refreshUser:h,updateToken:u,logout:d},children:e})}function l(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5900:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});var a=s(7577);function r(){let[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0);return{permissions:e,loading:s,hasPermission:t=>!s&&e.includes(t)}}s(1471)},4971:(e,t,s)=>{"use strict";s.d(t,{g:()=>n,k:()=>r});var a=s(7577);function r(e,t="150x150"){let[s,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null);return{avatarUrl:s,loading:n,error:l}}function n(e,t){if(t)return`https://cdn.discordapp.com/avatars/${e}/${t}.png?size=128`;let s=parseInt(e.slice(-1))%5;return`https://cdn.discordapp.com/embed/avatars/${s}.png`}},2882:(e,t,s)=>{"use strict";function a(...e){return e.filter(Boolean).join(" ")}s.d(t,{cn:()=>a})},1471:(e,t,s)=>{"use strict";s.d(t,{Mh:()=>o,Yd:()=>d,au:()=>u,bM:()=>h,bR:()=>n,kv:()=>l,vD:()=>c});var a=s(4464);let r=process.env.NEXT_PUBLIC_API_URL||"https://staffapp-9q1t.onrender.com/api";function n(){return r.replace(/\/$/,"")}let i=a.Z.create({baseURL:r,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>e),i.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)));let l={getMe:()=>i.get("/auth/me"),logout:()=>i.post("/auth/logout")},o={requestCode:()=>i.post("/verification/roblox/request"),verify:(e,t)=>i.post("/verification/roblox/verify",{roblox_username:e,emoji_code:t}),getStatus:()=>i.get("/verification/roblox/status")},c={getStats:()=>i.get("/dashboard/stats"),getInfractions:()=>i.get("/dashboard/infractions"),getAnalytics:()=>i.get("/dashboard/analytics")},d={getStatus:()=>i.get("/dashboard/loa/status"),getRequests:()=>i.get("/dashboard/loa"),create:(e,t,s)=>i.post("/dashboard/loa",{start_date:e,end_date:t,reason:s}),cancel:e=>i.delete(`/dashboard/loa/${e}`)},u={list:e=>i.get("/tickets",{params:{status:e}}),claim:e=>i.post(`/tickets/${e}/claim`),resolve:e=>i.post(`/tickets/${e}/resolve`)},h={getUsers:()=>i.get("/management/users"),updateUserPermission:(e,t,s)=>i.put(`/management/users/${e}/permissions`,{permission:t,granted:s}),updateUserStatus:(e,t)=>i.put(`/management/users/${e}/status`,{status:t}),getTrackedChannels:()=>i.get("/management/tracked-channels"),addTrackedChannel:(e,t)=>i.post("/management/tracked-channels",{discord_channel_id:e,channel_name:t}),removeTrackedChannel:e=>i.delete(`/management/tracked-channels/${e}`),getLOARequests:e=>i.get("/management/loa",{params:{status:e}}),reviewLOA:(e,t,s)=>i.put(`/management/loa/${e}/review`,{status:t,review_notes:s}),getAllInfractions:()=>i.get("/management/infractions"),issueInfraction:(e,t,s)=>i.post("/management/infractions",{user_id:e,reason:t,type:s}),voidInfraction:e=>i.put(`/management/infractions/${e}/void`),getUserInfractions:e=>i.get(`/management/users/${e}/infractions`)}},6989:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/workspace/frontend/src/app/(dashboard)/layout.tsx#default`)},6694:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>o});var a=s(9510),r=s(5317),n=s.n(r);s(5023);var i=s(8570);let l=(0,i.createProxy)(String.raw`/workspace/frontend/src/context/AuthContext.tsx#AuthProvider`);(0,i.createProxy)(String.raw`/workspace/frontend/src/context/AuthContext.tsx#useAuth`);let o={title:"Atlanta High Staff Portal",description:"Staff management portal for Atlanta High â€” authorized employees only."};function c({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:n().className,children:a.jsx(l,{children:e})})})}},5023:()=>{}};